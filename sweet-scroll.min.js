/*!
 * sweet-scroll
 * Modern and the sweet smooth scroll library.
 * @author tsuyoshiwada
 * @license MIT
 * @version 2.2.1
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.SweetScroll=n()}(this,function(){"use strict";function t(t){return null==t?"":"object"===(void 0===t?"undefined":D(t))||"function"==typeof t?j[Object.prototype.toString.call(t)]||"object":void 0===t?"undefined":D(t)}function n(n){return"string"===t(n)}function e(n){return"function"===t(n)}function i(t){return Array.isArray(t)}function o(n){var e=null==n?null:n.length;return function(n){return"number"===t(n)}(e)&&e>=0&&e<=W}function r(t,n){return t&&t.hasOwnProperty(n)}function l(n,e,l){if(null==n)return n;var u=l||n;if(function(n){return!i(n)&&"object"===t(n)}(n)){for(var a in n)if(r(n,a)&&!1===e.call(u,n[a],a))break}else if(o(n))for(var s=0;s<n.length&&!1!==e.call(u,n[s],s);s++);return n}function u(t){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return l(e,function(n){l(n,function(n,e){t[e]=n})}),t}function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return(null==n?F:n).querySelector(t)}function s(t,n){for(var e=(t.document||t.ownerDocument).querySelectorAll(n),i=e.length;--i>=0&&e.item(i)!==t;);return i>-1}function c(t){return t===F.documentElement||t===F.body}function h(){var t=N.outerWidth,n=N.innerWidth;return t?t/n:1}function f(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=U[n],o=t instanceof Element?[t]:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return(null==n?F:n).querySelectorAll(t)}(t),r=[],l=F.createElement("div"),u=0;u<o.length;u++){var a=o[u];if(a[i]=1,a[i]>0?r.push(a):(l.style.width=a.clientWidth+1+"px",l.style.height=a.clientHeight+1+"px",a.appendChild(l),a[i]=1.5/h(),a[i]>0&&r.push(a),a[i]=0,a.removeChild(l)),a[i]=0,!e&&r.length>0)break}return r}function p(t,n){var e=f(t,n,!1);return e.length>=1?e[0]:null}function d(t){return null!=t&&t===t.window?t:9===t.nodeType&&t.defaultView}function v(t){return T(t.scrollHeight,t.clientHeight,t.offsetHeight)}function g(t){return T(t.scrollWidth,t.clientWidth,t.offsetWidth)}function S(t){return{width:g(t),height:v(t)}}function y(t){return c(t)?{viewport:{width:z(N.innerWidth,F.documentElement.clientWidth),height:N.innerHeight},size:{width:T(g(F.body),g(F.documentElement)),height:T(v(F.body),v(F.documentElement))}}:{viewport:{width:t.clientWidth,height:t.clientHeight},size:S(t)}}function m(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",e=d(t);return e?e[$[n]]:t[U[n]]}function k(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"y",i=d(t),o="y"===e;i?i.scrollTo(o?i[$.x]:n,o?n:i[$.y]):t[U[e]]=n}function b(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||t&&!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect();if(e.width||e.height){var i={},o=null;if(null==n||c(n))o=t.ownerDocument.documentElement,i.top=N.pageYOffset,i.left=N.pageXOffset;else{var r=(o=n).getBoundingClientRect();i.top=-1*r.top+o.scrollTop,i.left=-1*r.left+o.scrollLeft}return{top:e.top+i.top-o.clientTop,left:e.left+i.left-o.clientLeft}}return e}function C(t,n,e){n.split(",").forEach(function(n){t.addEventListener(n.trim(),e,!1)})}function w(t,n,e){n.split(",").forEach(function(n){t.removeEventListener(n.trim(),e,!1)})}function O(t,n,e,i,o){return(n/=o)<1/2.75?i*(7.5625*n*n)+e:n<2/2.75?i*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?i*(7.5625*(n-=2.25/2.75)*n+.9375)+e:i*(7.5625*(n-=2.625/2.75)*n+.984375)+e}function I(t,n,e,i,o){return i-O(0,o-n,0,i,o)+e}var _=Math.cos,x=Math.sin,L=Math.pow,E=Math.abs,A=Math.sqrt,M=Math.asin,R=Math.PI,T=Math.max,z=Math.min,q=Math.round,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},Q=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),W=L(2,53)-1,j={};["Boolean","Number","String","Function","Array","Object"].forEach(function(t){j["[object "+t+"]"]=t.toLowerCase()});var B=!("undefined"==typeof window||!window.document||!window.document.createElement),H=function(){if(!B)return!1;var t=navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history&&"file:"!==window.location.protocol)}(),N=B?window:null,F=B?document:null,U={y:"scrollTop",x:"scrollLeft"},$={y:"pageYOffset",x:"pageXOffset"},X=Object.freeze({linear:function(t){return t},InQuad:function(t,n,e,i,o){return i*(n/=o)*n+e},OutQuad:function(t,n,e,i,o){return-i*(n/=o)*(n-2)+e},InOutQuad:function(t,n,e,i,o){return(n/=o/2)<1?i/2*n*n+e:-i/2*(--n*(n-2)-1)+e},InCubic:function(t,n,e,i,o){return i*(n/=o)*n*n+e},OutCubic:function(t,n,e,i,o){return i*((n=n/o-1)*n*n+1)+e},InOutCubic:function(t,n,e,i,o){return(n/=o/2)<1?i/2*n*n*n+e:i/2*((n-=2)*n*n+2)+e},InQuart:function(t,n,e,i,o){return i*(n/=o)*n*n*n+e},OutQuart:function(t,n,e,i,o){return-i*((n=n/o-1)*n*n*n-1)+e},InOutQuart:function(t,n,e,i,o){return(n/=o/2)<1?i/2*n*n*n*n+e:-i/2*((n-=2)*n*n*n-2)+e},InQuint:function(t,n,e,i,o){return i*(n/=o)*n*n*n*n+e},OutQuint:function(t,n,e,i,o){return i*((n=n/o-1)*n*n*n*n+1)+e},InOutQuint:function(t,n,e,i,o){return(n/=o/2)<1?i/2*n*n*n*n*n+e:i/2*((n-=2)*n*n*n*n+2)+e},InSine:function(t,n,e,i,o){return-i*_(n/o*(R/2))+i+e},OutSine:function(t,n,e,i,o){return i*x(n/o*(R/2))+e},InOutSine:function(t,n,e,i,o){return-i/2*(_(R*n/o)-1)+e},InExpo:function(t,n,e,i,o){return 0===n?e:i*L(2,10*(n/o-1))+e},OutExpo:function(t,n,e,i,o){return n===o?e+i:i*(1-L(2,-10*n/o))+e},InOutExpo:function(t,n,e,i,o){return 0===n?e:n===o?e+i:(n/=o/2)<1?i/2*L(2,10*(n-1))+e:i/2*(2-L(2,-10*--n))+e},InCirc:function(t,n,e,i,o){return-i*(A(1-(n/=o)*n)-1)+e},OutCirc:function(t,n,e,i,o){return i*A(1-(n=n/o-1)*n)+e},InOutCirc:function(t,n,e,i,o){return(n/=o/2)<1?-i/2*(A(1-n*n)-1)+e:i/2*(A(1-(n-=2)*n)+1)+e},InElastic:function(t,n,e,i,o){var r=1.70158,l=0,u=i;return 0===n?e:1==(n/=o)?e+i:(l||(l=.3*o),u<E(i)?(u=i,r=l/4):r=l/(2*R)*M(i/u),-u*L(2,10*(n-=1))*x(2*R*(n*o-r)/l)+e)},OutElastic:function(t,n,e,i,o){var r=1.70158,l=0,u=i;return 0===n?e:1==(n/=o)?e+i:(l||(l=.3*o),u<E(i)?(u=i,r=l/4):r=l/(2*R)*M(i/u),u*L(2,-10*n)*x(2*R*(n*o-r)/l)+i+e)},InOutElastic:function(t,n,e,i,o){var r=1.70158,l=0,u=i;return 0===n?e:2==(n/=o/2)?e+i:(l||(l=o*(.3*1.5)),u<E(i)?(u=i,r=l/4):r=l/(2*R)*M(i/u),n<1?u*L(2,10*(n-=1))*x(2*R*(n*o-r)/l)*-.5+e:u*L(2,-10*(n-=1))*x(2*R*(n*o-r)/l)*.5+i+e)},InBack:function(t,n,e,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1.70158;return i*(n/=o)*n*((r+1)*n-r)+e},OutBack:function(t,n,e,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1.70158;return i*((n=n/o-1)*n*((r+1)*n+r)+1)+e},InOutBack:function(t,n,e,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1.70158;return(n/=o/2)<1?i/2*(n*n*((1+(r*=1.525))*n-r))+e:i/2*((n-=2)*n*((1+(r*=1.525))*n+r)+2)+e},OutBounce:O,InBounce:I,InOutBounce:function(t,n,e,i,o){return n<o/2?.5*I(0,2*n,0,i,o)+e:.5*O(0,2*n-o,0,i,o)+.5*i+e}}),Y=["ms","moz","webkit"],J=0,V=B?N.requestAnimationFrame:null,G=B?N.cancelAnimationFrame:null;if(B){for(var K=0;K<Y.length&&!V;++K)V=N[Y[K]+"RequestAnimationFrame"],G=N[Y[K]+"CancelAnimationFrame"]||N[Y[K]+"CancelRequestAnimationFrame"];V||(V=function(t){var n=Date.now(),e=T(0,16-(n-J)),i=setTimeout(function(){t(n+e)},e);return J=n+e,i}),G||(G=function(t){clearTimeout(t)})}var Z=function(){function t(n){P(this,t),this.el=n,this.props={},this.options={},this.progress=!1,this.easing=null,this.startTime=null,this.rafId=null}return Q(t,[{key:"run",value:function(t,n,i){var o=this;this.progress||(this.props={x:t,y:n},this.options=i,this.easing=e(i.easing)?i.easing:X[i.easing.replace("ease","")],this.progress=!0,setTimeout(function(){o.startProps=o.calcStartProps(t,n),o.rafId=V(function(t){return o._loop(t)})},this.options.delay))}},{key:"stop",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.options.complete;this.startTime=null,this.progress=!1,G(this.rafId),t&&(k(this.el,this.props.x,"x"),k(this.el,this.props.y,"y")),e(n)&&(n.call(this),this.options.complete=null)}},{key:"_loop",value:function(t){var n=this;if(this.startTime||(this.startTime=t),this.progress){var e=this.el,i=this.props,o=this.options,r=this.startTime,u=this.startProps,a=this.easing,s=o.duration,c=o.step,h={},f=t-r,p=z(1,T(f/s,0));l(i,function(t,n){var e=u[n],i=t-e;if(0===i)return!0;var o=a(p,s*p,0,1,s);h[n]=q(e+i*o)}),l(h,function(t,n){k(e,t,n)}),f<=s?(c.call(this,p,h),this.rafId=V(function(t){return n._loop(t)})):this.stop(!0)}else this.stop(!1)}},{key:"calcStartProps",value:function(t,n){var e={x:m(this.el,"x"),y:m(this.el,"y")};if(this.options.quickMode){var i=y(this.el).viewport,o=i.width,r=i.height;E(e.y-n)>r&&(e.y=e.y>n?n+r:n-r),E(e.x-t)>o&&(e.x=e.x>t?t+o:t-o)}return e}}]),t}(),tt=(B?"onwheel"in F?"wheel":"onmousewheel"in F?"mousewheel":"DOMMouseScroll":"wheel")+", touchstart, touchmove",nt=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body, html";P(this,t),this.isSSR=!B,this.options=u({},t.defaults,n),this.container=this.getContainer(e),null==this.container?(this.header=null,this.tween=null,this.isSSR||(/comp|inter|loaded/.test(F.readyState)?this.log('Not found scrollable container. => "'+e+'"'):this.log("Should be initialize later than DOMContentLoaded."))):(this.header=a(this.options.header),this.tween=new Z(this.container),this._trigger=null,this._shouldCallCancelScroll=!1,this.bindContainerClick())}return Q(t,[{key:"log",value:function(t){this.options.outputLog&&function(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}("[SweetScroll] "+t)}},{key:"getScrollOffset",value:function(t,e){var i=this.container,o=this.header,r=this.parseCoodinate(e.offset),l=this.parseCoodinate(t);if(!l&&n(t))if("#"===t)l={top:0,left:0};else{var u=b(a(t),i);if(!u)return;l=u}return l?(r&&(l.top+=r.top,l.left+=r.left),o&&(l.top=T(0,l.top-S(o).height)),l):null}},{key:"normalizeScrollOffset",value:function(t,n){var e=this.container,i=u({},t),o=y(e),r=o.viewport,l=o.size;return i.top=n.verticalScroll?T(0,z(l.height-r.height,i.top)):m(e,"y"),i.left=n.horizontalScroll?T(0,z(l.width-r.width,i.left)):m(e,"x"),i}},{key:"to",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isSSR){var o=this.container,r=u({},this.options,i),l=this._trigger,a=n(t)&&/^#/.test(t)?t:null;if(this._options=r,this._trigger=null,this._shouldCallCancelScroll=!1,this.stop(),!o)return this.log("Not found container element.");var s=this.getScrollOffset(t,r);if(!s)return this.log("Invalid parameter of distance. => "+t);!1!==this.hook(r,"beforeScroll",s,l)?(s=this.normalizeScrollOffset(s,r),this.tween.run(s.left,s.top,{duration:r.duration,delay:r.delay,easing:r.easing,quickMode:r.quickMode,complete:function(){null!=a&&a!==N.location.hash&&e.updateURLHash(a,r.updateURL),e.unbindContainerStop(),e._options=null,e._shouldCallCancelScroll?e.hook(r,"cancelScroll"):e.hook(r,"afterScroll",s,l),e.hook(r,"completeScroll",e._shouldCallCancelScroll)},step:function(t,n){e.hook(r,"stepScroll",t,n)}}),this.bindContainerStop()):this._options=null}}},{key:"toTop",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.to(t,u({},n,{verticalScroll:!0,horizontalScroll:!1}))}},{key:"toLeft",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.to(t,u({},n,{verticalScroll:!1,horizontalScroll:!0}))}},{key:"toElement",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isSSR)if(t instanceof Element){var e=b(t,this.container);this.to(e,u({},n))}else this.log("Invalid parameter.")}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isSSR||(this.container?(this._stopScrollListener&&(this._shouldCallCancelScroll=!0),this.tween.stop(t)):this.log("Not found scrollable container."))}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.container?(this.stop(),this.unbindContainerClick(),this.unbindContainerStop(),this.options=u({},this.options,t),this.header=a(this.options.header),this.bindContainerClick()):this.isSSR||this.log("Not found scrollable container.")}},{key:"destroy",value:function(){this.container?(this.stop(),this.unbindContainerClick(),this.unbindContainerStop(),this.container=null,this.header=null,this.tween=null):this.isSSR||this.log("Not found scrollable container.")}},{key:"beforeScroll",value:function(t,n){return!0}},{key:"cancelScroll",value:function(){}},{key:"afterScroll",value:function(t,n){}},{key:"completeScroll",value:function(t){}},{key:"stepScroll",value:function(t,n){}},{key:"parseCoodinate",value:function(t){var e=this._options?this._options.verticalScroll:this.options.verticalScroll,o={top:0,left:0};if(r(t,"top")||r(t,"left"))o=u(o,t);else if(i(t))2===t.length?(o.top=t[0],o.left=t[1]):(o.top=e?t[0]:0,o.left=e?0:t[0]);else if(function(t){return!i(t)&&t-parseFloat(t)+1>=0}(t))o.top=e?t:0,o.left=e?0:t;else{if(!n(t))return null;var l=function(t){return t.replace(/\s*/g,"")||""}(t);if(/^\d+,\d+$/.test(l))l=l.split(","),o.top=l[0],o.left=l[1];else if(/^(top|left):\d+,?(?:(top|left):\d+)?$/.test(l)){var a=l.match(/top:(\d+)/),s=l.match(/left:(\d+)/);o.top=a?a[1]:0,o.left=s?s[1]:0}else{if(!this.container||!/^(\+|-)=(\d+)$/.test(l))return null;var c=m(this.container,e?"y":"x"),h=l.match(/^(\+|-)=(\d+)$/),f=h[1],p=parseInt(h[2],10);"+"===f?(o.top=e?c+p:0,o.left=e?0:c+p):(o.top=e?c-p:0,o.left=e?0:c-p)}}return o.top=parseInt(o.top,10),o.left=parseInt(o.left,10),o}},{key:"updateURLHash",value:function(t,n){!this.isSSR&&H&&n&&N.history["replace"===n?"replaceState":"pushState"](null,null,t)}},{key:"getContainer",value:function(t){var n=this.options,e=n.verticalScroll,i=n.horizontalScroll,o=null;return this.isSSR?o:(e&&(o=p(t,"y")),!o&&i&&(o=p(t,"x")),o)}},{key:"bindContainerClick",value:function(){var t=this.container;t&&(this._containerClickListener=this.handleContainerClick.bind(this),C(t,"click",this._containerClickListener))}},{key:"unbindContainerClick",value:function(){var t=this.container;t&&this._containerClickListener&&(w(t,"click",this._containerClickListener),this._containerClickListener=null)}},{key:"bindContainerStop",value:function(){var t=this.container;t&&(this._stopScrollListener=this.handleStopScroll.bind(this),C(t,tt,this._stopScrollListener))}},{key:"unbindContainerStop",value:function(){var t=this.container;t&&this._stopScrollListener&&(w(t,tt,this._stopScrollListener),this._stopScrollListener=null)}},{key:"hook",value:function(t,n){for(var i=t[n],o=arguments.length,r=Array(o>2?o-2:0),l=2;l<o;l++)r[l-2]=arguments[l];if(e(i)){var u=i.apply(this,r);if(void 0===u)return u}return this[n].apply(this,r)}},{key:"handleStopScroll",value:function(t){(this._options?this._options.stopScroll:this.options.stopScroll)?this.stop():t.preventDefault()}},{key:"handleContainerClick",value:function(t){for(var n=this.options,e=t.target;e&&e!==F;e=e.parentNode)if(s(e,n.trigger)){var i=e.getAttribute("data-scroll"),o=this.parseDataOptions(e),r=i||e.getAttribute("href");(n=u({},n,o)).preventDefault&&t.preventDefault(),n.stopPropagation&&t.stopPropagation(),this._trigger=e,n.horizontalScroll&&n.verticalScroll?this.to(r,n):n.verticalScroll?this.toTop(r,n):n.horizontalScroll&&this.toLeft(r,n)}}},{key:"parseDataOptions",value:function(t){var n=t.getAttribute("data-scroll-options");return n?JSON.parse(n):{}}}]),t}();return nt.defaults={trigger:"[data-scroll]",header:"[data-scroll-header]",duration:1e3,delay:0,easing:"easeOutQuint",offset:0,verticalScroll:!0,horizontalScroll:!1,stopScroll:!0,updateURL:!1,preventDefault:!0,stopPropagation:!0,outputLog:!1,quickMode:!1,beforeScroll:null,afterScroll:null,cancelScroll:null,completeScroll:null,stepScroll:null},nt});