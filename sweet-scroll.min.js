/*!
 * sweet-scroll
 * Modern and the sweet smooth scroll library.
 * 
 * @author tsuyoshiwada
 * @homepage https://github.com/tsuyoshiwada/sweet-scroll
 * @license MIT
 * @version 0.0.1
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SweetScroll=e()}(this,function(){"use strict";function t(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(t)return(null==e?document:e).querySelector(t)}function e(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(t)return(null==e?document:e).querySelectorAll(t)}function n(t,e){for(var n=(t.document||t.ownerDocument).querySelectorAll(e),r=n.length;--r>=0&&n.item(r)!==t;);return r>-1}function r(t){return null==t?t+"":"object"===("undefined"==typeof t?"undefined":Z["typeof"](t))||"function"==typeof t?nt[Object.prototype.toString.call(t)]||"object":"undefined"==typeof t?"undefined":Z["typeof"](t)}function i(t){return Array.isArray(t)}function o(t){var e=null==t?null:t.length;return s(e)&&e>=0&&tt>=e}function a(t){return!i(t)&&"object"===r(t)}function s(t){return"number"===r(t)}function u(t){return"string"===r(t)}function l(t){return"function"===r(t)}function c(t){return!i(t)&&t-parseFloat(t)+1>=0}function h(t,e){return t&&Object.prototype.hasOwnProperty.call(t,e)}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return p(n,function(e){p(e,function(e,n){t[n]=e})}),t}function p(t,e,n){if(null==t)return t;if(n=n||t,a(t)){for(var r in t)if(h(t,r)&&e.call(n,t[r],r)===!1)break}else if(o(t)){var i=void 0,s=t.length;for(i=0;s>i&&e.call(n,t[i],i)!==!1;i++);}return t}function g(t){return t.replace(/\s*/g,"")||""}function d(t){var e=document;return t===e.documentElement||t===e.body}function v(t){for(var n=arguments.length<=1||void 0===arguments[1]?"y":arguments[1],r=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i=rt[n],o=e(t),a=[],s=0;s<o.length;s++){var u=o[s];if(u[i]>0?a.push(u):(u[i]=1,u[i]>0&&a.push(u),u[i]=0),!r&&a.length>0)break}return a}function m(t,e){var n=v(t,e,!1);return n.length>=1?n[0]:void 0}function y(t){return null!=t&&t===t.window?t:9===t.nodeType&&t.defaultView}function w(t){var e=arguments.length<=1||void 0===arguments[1]?"y":arguments[1],n=rt[e],r=it[e],i=y(t);return i?i[r]:t[n]}function S(t,e){var n=arguments.length<=2||void 0===arguments[2]?"y":arguments[2],r=rt[n],i=y(t),o="y"===n;i?i.scrollTo(o?i.pageXOffset:e,o?e:i.pageYOffset):t[r]=e}function b(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(!t||t&&!t.getClientRects().length)return{top:0,left:0};var n=t.getBoundingClientRect();if(n.width||n.height){var r={},i=void 0;if(null==e||d(e))i=t.ownerDocument.documentElement,r.top=window.pageYOffset,r.left=window.pageXOffset;else{i=e;var o=i.getBoundingClientRect();r.top=-1*o.top+i.scrollTop,r.left=-1*o.left+i.scrollLeft}return{top:n.top+r.top-i.clientTop,left:n.left+r.left-i.clientLeft}}return n}function k(t){return t}function C(t,e,n,r,i){return r*(e/=i)*e+n}function M(t,e,n,r,i){return-r*(e/=i)*(e-2)+n}function _(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e+n:-r/2*(--e*(e-2)-1)+n}function O(t,e,n,r,i){return r*(e/=i)*e*e+n}function I(t,e,n,r,i){return r*((e=e/i-1)*e*e+1)+n}function L(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e+n:r/2*((e-=2)*e*e+2)+n}function E(t,e,n,r,i){return r*(e/=i)*e*e*e+n}function P(t,e,n,r,i){return-r*((e=e/i-1)*e*e*e-1)+n}function x(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e*e+n:-r/2*((e-=2)*e*e*e-2)+n}function T(t,e,n,r,i){return r*(e/=i)*e*e*e*e+n}function A(t,e,n,r,i){return r*((e=e/i-1)*e*e*e*e+1)+n}function j(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e*e*e+n:r/2*((e-=2)*e*e*e*e+2)+n}function q(t,e,n,r,i){return-r*Math.cos(e/i*(Math.PI/2))+r+n}function Q(t,e,n,r,i){return r*Math.sin(e/i*(Math.PI/2))+n}function B(t,e,n,r,i){return-r/2*(Math.cos(Math.PI*e/i)-1)+n}function z(t,e,n,r,i){return 0===e?n:r*Math.pow(2,10*(e/i-1))+n}function D(t,e,n,r,i){return e===i?n+r:r*(-Math.pow(2,-10*e/i)+1)+n}function R(t,e,n,r,i){return 0===e?n:e===i?n+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+n:r/2*(-Math.pow(2,-10*--e)+2)+n}function F(t,e,n,r,i){return-r*(Math.sqrt(1-(e/=i)*e)-1)+n}function H(t,e,n,r,i){return r*Math.sqrt(1-(e=e/i-1)*e)+n}function W(t,e,n,r,i){return(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+n:r/2*(Math.sqrt(1-(e-=2)*e)+1)+n}function X(t,e,n,r,i){var o=1.70158,a=0,s=r;return 0===e?n:1===(e/=i)?n+r:(a||(a=.3*i),s<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),-(s*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a))+n)}function Y(t,e,n,r,i){var o=1.70158,a=0,s=r;return 0===e?n:1===(e/=i)?n+r:(a||(a=.3*i),s<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*e)*Math.sin((e*i-o)*(2*Math.PI)/a)+r+n)}function N(t,e,n,r,i){var o=1.70158,a=0,s=r;return 0===e?n:2===(e/=i/2)?n+r:(a||(a=i*(.3*1.5)),s<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),1>e?-.5*(s*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a))+n:s*Math.pow(2,-10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)*.5+r+n)}function $(t,e,n,r,i){var o=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return r*(e/=i)*e*((o+1)*e-o)+n}function V(t,e,n,r,i){var o=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return r*((e=e/i-1)*e*((o+1)*e+o)+1)+n}function G(t,e,n,r,i){var o=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return(e/=i/2)<1?r/2*(e*e*(((o*=1.525)+1)*e-o))+n:r/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+n}function J(t,e,n,r,i){return r-K(t,i-e,0,r,i)+n}function K(t,e,n,r,i){return(e/=i)<1/2.75?r*(7.5625*e*e)+n:2/2.75>e?r*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?r*(7.5625*(e-=2.25/2.75)*e+.9375)+n:r*(7.5625*(e-=2.625/2.75)*e+.984375)+n}function U(t,e,n,r,i){return i/2>e?.5*J(t,2*e,0,r,i)+n:.5*K(t,2*e-i,0,r,i)+.5*r+n}var Z={};Z["typeof"]=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Z.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Z.createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var tt=Math.pow(2,53)-1,et=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error","Symbol"],nt={};et.forEach(function(t){nt["[object "+t+"]"]=t.toLowerCase()});var rt={y:"scrollTop",x:"scrollLeft"},it={y:"pageYOffset",x:"pageXOffset"},ot=0,at=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){var e=Date.now(),n=Math.max(0,16-(e-ot)),r=window.setTimeout(function(){t(e+n)},n);return ot=e+n,r},st=Object.freeze({linear:k,easeInQuad:C,easeOutQuad:M,easeInOutQuad:_,easeInCubic:O,easeOutCubic:I,easeInOutCubic:L,easeInQuart:E,easeOutQuart:P,easeInOutQuart:x,easeInQuint:T,easeOutQuint:A,easeInOutQuint:j,easeInSine:q,easeOutSine:Q,easeInOutSine:B,easeInExpo:z,easeOutExpo:D,easeInOutExpo:R,easeInCirc:F,easeOutCirc:H,easeInOutCirc:W,easeInElastic:X,easeOutElastic:Y,easeInOutElastic:N,easeInBack:$,easeOutBack:V,easeInOutBack:G,easeInBounce:J,easeOutBounce:K,easeInOutBounce:U}),ut=function(){function t(e){Z.classCallCheck(this,t),this.el=e,this.props={},this.progress=!1,this.startTime=null}return Z.createClass(t,[{key:"run",value:function(t,e,n,r,i){var o=this,a=arguments.length<=5||void 0===arguments[5]?function(){}:arguments[5];this.progress||(this.props={x:t,y:e},this.duration=n,this.delay=r,this.easing=i,this.callback=a,this.progress=!0,setTimeout(function(){o.startProps={x:w(o.el,"x"),y:w(o.el,"y")},at(function(t){return o._loop(t)})},r))}},{key:"stop",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.startTime=null,this.progress=!1,t&&(S(this.el,this.props.x,"x"),S(this.el,this.props.y,"y")),l(this.callback)&&(this.callback(),this.callback=null)}},{key:"_loop",value:function(t){var e=this;if(this.startTime||(this.startTime=t),!this.progress)return void this.stop(!1);var n=this.el,r=this.props,i=this.duration,o=this.startTime,a=this.startProps,s={},u=st[this.easing],l=t-o,c=Math.min(1,Math.max(l/i,0));p(r,function(t,e){var n=a[e],r=t-n;if(0===r)return!0;var o=u(c,i*c,0,1,i);s[e]=Math.round(n+r*o)}),p(s,function(t,e){S(n,t,e)}),i>=l?at(function(t){return e._loop(t)}):this.stop(!0)}}]),t}(),lt=document,ct=window,ht="onwheel"in lt?"wheel":"onmousewheel"in lt?"mousewheel":"DOMMouseScroll",ft=function(){function r(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?"body, html":arguments[1];Z.classCallCheck(this,r),this.options=f({},r.defaults,n),this.container=m(i),this.header=t(this.options.header),this.el=e(this.options.trigger),this.tween=new ut(this.container),this._bindContainerClick()}return Z.createClass(r,[{key:"to",value:function(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.stop();var i=this.container,o=f({},this.options,r),a=this._parseCoodinate(o.offset),s=this._parseCoodinate(e);if(i){if(!s&&u(e))if("#"===e)s={top:0,left:0};else if(!/[:,]/.test(e)){var l=t(e),c=b(l,i);if(!c)return;s=c}if(s){a&&(s.top+=a.top,s.left+=a.left),this.header&&(s.top-=this.header.clientHeight);var h=void 0,p=void 0;d(i)?(h={width:ct.innerWidth,height:ct.innerHeight},p={width:lt.body.scrollWidth,height:lt.body.scrollHeight}):(h={width:i.clientWidth,height:i.clientHeight},p={width:i.scrollWidth,height:i.scrollHeight}),o.verticalScroll?s.top=s.top+h.height>p.height?p.height-h.height:s.top:s.top=w(i,"y"),o.horizontalScroll?s.left=s.left+h.width>p.width?p.width-h.width:s.left:s.left=w(i,"x"),this._hook(o.beforeScroll,s)!==!1&&(this.tween.run(s.left,s.top,o.duration,o.delay,o.easing,function(){n._unbindContainerStop(),n._hook(o.afterScroll,s)}),this._bindContainerStop())}}}},{key:"toTop",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.to(t,f({},e,{verticalScroll:!0,horizontalScroll:!1}))}},{key:"toLeft",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.to(t,f({},e,{verticalScroll:!1,horizontalScroll:!0}))}},{key:"stop",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this.tween.stop(t)}},{key:"destroy",value:function(){this.stop(),this._unbindContainerClick(),this._unbindContainerStop()}},{key:"_bindContainerClick",value:function(){this.container&&(this._containerClickListener=this._handleContainerClick.bind(this),this.container.addEventListener("click",this._containerClickListener,!1))}},{key:"_unbindContainerClick",value:function(){this.container&&this._containerClickListener&&(this.container.removeEventListener("click",this._containerClickListener,!1),this._containerClickListener=null)}},{key:"_bindContainerStop",value:function(){if(this.container){var t=this.container;this._stopScrollListener=this._handleStopScroll.bind(this),t.addEventListener(ht,this._stopScrollListener,!1),t.addEventListener("touchstart",this._stopScrollListener,!1),t.addEventListener("touchmove",this._stopScrollListener,!1)}}},{key:"_unbindContainerStop",value:function(){if(this.container&&this._stopScrollListener){var t=this.container;t.removeEventListener(ht,this._stopScrollListener,!1),t.removeEventListener("touchstart",this._stopScrollListener,!1),t.removeEventListener("touchmove",this._stopScrollListener,!1),this._stopScrollListener=null}}},{key:"_hook",value:function(t){if(l(t)){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return t.apply(this,n)}}},{key:"_parseCoodinate",value:function(t){var e=this.options.verticalScroll,n={top:0,left:0};if(h(t,"top")||h(t,"left"))n=f(n,t);else if(i(t))2===t.length?(n.top=t[0],n.left=t[1]):(n.top=e?t[0]:0,n.left=e?0:t[0]);else if(c(t))n.top=e?t:0,n.left=e?0:t;else{if(!u(t))return null;if(t=g(t),/^\d+,\d+$/.test(t))t=t.split(","),n.top=t[0],n.left=t[1];else{if(!/^(top|left):\d+,?(?:(top|left):\d+)?$/.test(t))return null;var r=t.match(/top:(\d+)/),o=t.match(/left:(\d+)/);n.top=r?r[1]:0,n.left=o?o[1]:0}}return n.top=parseInt(n.top),n.left=parseInt(n.left),n}},{key:"_handleStopScroll",value:function(t){this.options.stopScroll?this._hook(this.options.cancelScroll)!==!1&&this.stop():t.stopPropagation()}},{key:"_handleContainerClick",value:function(t){for(var e=this.options,r=t.target;r&&r!==lt;r=r.parentNode)if(n(r,e.trigger)){var i=r.getAttribute("data-scroll"),o=i||r.getAttribute("href");t.preventDefault(),e.stopPropagation&&t.stopPropagation(),e.horizontalScroll&&e.verticalScroll?this.to(o):e.verticalScroll?this.toTop(o):e.horizontalScroll&&this.toLeft(o)}}}]),r}();return ft.defaults={trigger:"[data-scroll]",header:"[data-scroll-header]",duration:1e3,delay:0,easing:"easeOutQuint",offset:0,verticalScroll:!0,horizontalScroll:!1,stopScroll:!0,stopPropagation:!0,beforeScroll:null,afterScroll:null,cancelScroll:null},ft});