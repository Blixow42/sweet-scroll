/*!
 * sweet-scroll
 * Modern and the sweet smooth scroll library.
 * 
 * @author tsuyoshiwada
 * @homepage https://github.com/tsuyoshiwada/sweet-scroll
 * @license MIT
 * @version 0.2.5
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.SweetScroll=n()}(this,function(){"use strict";function t(t){return null==t?t+"":"object"===("undefined"==typeof t?"undefined":nt["typeof"](t))||"function"==typeof t?it[Object.prototype.toString.call(t)]||"object":"undefined"==typeof t?"undefined":nt["typeof"](t)}function n(t){return Array.isArray(t)}function e(t){var n=null==t?null:t.length;return i(n)&&n>=0&&et>=n}function r(e){return!n(e)&&"object"===t(e)}function i(n){return"number"===t(n)}function o(n){return"string"===t(n)}function l(n){return"function"===t(n)}function u(t){return!n(t)&&t-parseFloat(t)+1>=0}function a(t,n){return t&&t.hasOwnProperty(n)}function s(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];return c(e,function(n){c(n,function(n,e){t[e]=n})}),t}function c(t,n,i){if(null==t)return t;if(i=i||t,r(t)){for(var o in t)if(a(t,o)&&n.call(i,t[o],o)===!1)break}else if(e(t)){var l=void 0,u=t.length;for(l=0;u>l&&n.call(i,t[l],l)!==!1;l++);}return t}function f(t){return t.replace(/\s*/g,"")||""}function h(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(t)return(null==n?document:n).querySelector(t)}function p(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(t)return(null==n?document:n).querySelectorAll(t)}function g(t,n){for(var e=(t.document||t.ownerDocument).querySelectorAll(n),r=e.length;--r>=0&&e.item(r)!==t;);return r>-1}function d(t,n,e){var r=n.split(",");r.forEach(function(n){t.addEventListener(n.trim(),e,!1)})}function m(t,n,e){var r=n.split(",");r.forEach(function(n){t.removeEventListener(n.trim(),e,!1)})}function v(t){var n=document;return t===n.documentElement||t===n.body}function y(t){for(var n=arguments.length<=1||void 0===arguments[1]?"y":arguments[1],e=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],r=ot[n],i=t instanceof HTMLElement?[t]:p(t),o=[],l=document.createElement("div"),u=0;u<i.length;u++){var a=i[u];if(a[r]>0?o.push(a):(l.style.width=a.clientWidth+1+"px",l.style.height=a.clientHeight+1+"px",a.appendChild(l),a[r]=1,a[r]>0&&o.push(a),a[r]=0,a.removeChild(l)),!e&&o.length>0)break}return o}function S(t,n){var e=y(t,n,!1);return e.length>=1?e[0]:void 0}function C(t){return null!=t&&t===t.window?t:9===t.nodeType&&t.defaultView}function b(t){var n=arguments.length<=1||void 0===arguments[1]?"y":arguments[1],e=ot[n],r=lt[n],i=C(t);return i?i[r]:t[e]}function k(t,n){var e=arguments.length<=2||void 0===arguments[2]?"y":arguments[2],r=ot[e],i=C(t),o="y"===e;i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):t[r]=n}function w(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(!t||t&&!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect();if(e.width||e.height){var r={},i=void 0;if(null==n||v(n))i=t.ownerDocument.documentElement,r.top=window.pageYOffset,r.left=window.pageXOffset;else{i=n;var o=i.getBoundingClientRect();r.top=-1*o.top+i.scrollTop,r.left=-1*o.left+i.scrollLeft}return{top:e.top+r.top-i.clientTop,left:e.left+r.left-i.clientLeft}}return e}function O(t){return t}function I(t,n,e,r,i){return r*(n/=i)*n+e}function x(t,n,e,r,i){return-r*(n/=i)*(n-2)+e}function _(t,n,e,r,i){return(n/=i/2)<1?r/2*n*n+e:-r/2*(--n*(n-2)-1)+e}function L(t,n,e,r,i){return r*(n/=i)*n*n+e}function E(t,n,e,r,i){return r*((n=n/i-1)*n*n+1)+e}function T(t,n,e,r,i){return(n/=i/2)<1?r/2*n*n*n+e:r/2*((n-=2)*n*n+2)+e}function M(t,n,e,r,i){return r*(n/=i)*n*n*n+e}function A(t,n,e,r,i){return-r*((n=n/i-1)*n*n*n-1)+e}function Q(t,n,e,r,i){return(n/=i/2)<1?r/2*n*n*n*n+e:-r/2*((n-=2)*n*n*n-2)+e}function j(t,n,e,r,i){return r*(n/=i)*n*n*n*n+e}function z(t,n,e,r,i){return r*((n=n/i-1)*n*n*n*n+1)+e}function B(t,n,e,r,i){return(n/=i/2)<1?r/2*n*n*n*n*n+e:r/2*((n-=2)*n*n*n*n+2)+e}function D(t,n,e,r,i){return-r*ct(n/i*(mt/2))+r+e}function H(t,n,e,r,i){return r*ft(n/i*(mt/2))+e}function q(t,n,e,r,i){return-r/2*(ct(mt*n/i)-1)+e}function P(t,n,e,r,i){return 0===n?e:r*ht(2,10*(n/i-1))+e}function F(t,n,e,r,i){return n===i?e+r:r*(-ht(2,-10*n/i)+1)+e}function R(t,n,e,r,i){return 0===n?e:n===i?e+r:(n/=i/2)<1?r/2*ht(2,10*(n-1))+e:r/2*(-ht(2,-10*--n)+2)+e}function W(t,n,e,r,i){return-r*(gt(1-(n/=i)*n)-1)+e}function $(t,n,e,r,i){return r*gt(1-(n=n/i-1)*n)+e}function N(t,n,e,r,i){return(n/=i/2)<1?-r/2*(gt(1-n*n)-1)+e:r/2*(gt(1-(n-=2)*n)+1)+e}function X(t,n,e,r,i){var o=1.70158,l=0,u=r;return 0===n?e:1===(n/=i)?e+r:(l||(l=.3*i),u<pt(r)?(u=r,o=l/4):o=l/(2*mt)*dt(r/u),-(u*ht(2,10*(n-=1))*ft((n*i-o)*(2*mt)/l))+e)}function Y(t,n,e,r,i){var o=1.70158,l=0,u=r;return 0===n?e:1===(n/=i)?e+r:(l||(l=.3*i),u<pt(r)?(u=r,o=l/4):o=l/(2*mt)*dt(r/u),u*ht(2,-10*n)*ft((n*i-o)*(2*mt)/l)+r+e)}function J(t,n,e,r,i){var o=1.70158,l=0,u=r;return 0===n?e:2===(n/=i/2)?e+r:(l||(l=i*(.3*1.5)),u<pt(r)?(u=r,o=l/4):o=l/(2*mt)*dt(r/u),1>n?-.5*(u*ht(2,10*(n-=1))*ft((n*i-o)*(2*mt)/l))+e:u*ht(2,-10*(n-=1))*ft((n*i-o)*(2*mt)/l)*.5+r+e)}function V(t,n,e,r,i){var o=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return r*(n/=i)*n*((o+1)*n-o)+e}function G(t,n,e,r,i){var o=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return r*((n=n/i-1)*n*((o+1)*n+o)+1)+e}function K(t,n,e,r,i){var o=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return(n/=i/2)<1?r/2*(n*n*(((o*=1.525)+1)*n-o))+e:r/2*((n-=2)*n*(((o*=1.525)+1)*n+o)+2)+e}function U(t,n,e,r,i){return r-Z(t,i-n,0,r,i)+e}function Z(t,n,e,r,i){return(n/=i)<1/2.75?r*(7.5625*n*n)+e:2/2.75>n?r*(7.5625*(n-=1.5/2.75)*n+.75)+e:2.5/2.75>n?r*(7.5625*(n-=2.25/2.75)*n+.9375)+e:r*(7.5625*(n-=2.625/2.75)*n+.984375)+e}function tt(t,n,e,r,i){return i/2>n?.5*U(t,2*n,0,r,i)+e:.5*Z(t,2*n-i,0,r,i)+.5*r+e}var nt={};nt["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},nt.classCallCheck=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},nt.createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();var et=Math.pow(2,53)-1,rt=["Boolean","Number","String","Function","Array","Object"],it={};rt.forEach(function(t){it["[object "+t+"]"]=t.toLowerCase()});var ot={y:"scrollTop",x:"scrollLeft"},lt={y:"pageYOffset",x:"pageXOffset"},ut=0,at=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){var n=Date.now(),e=Math.max(0,16-(n-ut)),r=window.setTimeout(function(){t(n+e)},e);return ut=n+e,r},st=Math,ct=st.cos,ft=st.sin,ht=st.pow,pt=st.abs,gt=st.sqrt,dt=st.asin,mt=st.PI,vt=Object.freeze({linear:O,InQuad:I,OutQuad:x,InOutQuad:_,InCubic:L,OutCubic:E,InOutCubic:T,InQuart:M,OutQuart:A,InOutQuart:Q,InQuint:j,OutQuint:z,InOutQuint:B,InSine:D,OutSine:H,InOutSine:q,InExpo:P,OutExpo:F,InOutExpo:R,InCirc:W,OutCirc:$,InOutCirc:N,InElastic:X,OutElastic:Y,InOutElastic:J,InBack:V,OutBack:G,InOutBack:K,InBounce:U,OutBounce:Z,InOutBounce:tt}),yt=function(){function t(n){nt.classCallCheck(this,t),this.el=n,this.props={},this.progress=!1,this.startTime=null}return nt.createClass(t,[{key:"run",value:function(t,n,e,r,i){var o=this,l=arguments.length<=5||void 0===arguments[5]?function(){}:arguments[5];this.progress||(this.props={x:t,y:n},this.duration=e,this.delay=r,this.easing=i.replace("ease",""),this.callback=l,this.progress=!0,setTimeout(function(){o.startProps={x:b(o.el,"x"),y:b(o.el,"y")},at(function(t){return o._loop(t)})},r))}},{key:"stop",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.startTime=null,this.progress=!1,t&&(k(this.el,this.props.x,"x"),k(this.el,this.props.y,"y")),l(this.callback)&&(this.callback(),this.callback=null)}},{key:"_loop",value:function(t){var n=this;if(this.startTime||(this.startTime=t),!this.progress)return void this.stop(!1);var e=this.el,r=this.props,i=this.duration,o=this.startTime,l=this.startProps,u={},a=vt[this.easing],s=t-o,f=Math.min(1,Math.max(s/i,0));c(r,function(t,n){var e=l[n],r=t-e;if(0===r)return!0;var o=a(f,i*f,0,1,i);u[n]=Math.round(e+r*o)}),c(u,function(t,n){k(e,t,n)}),i>=s?at(function(t){return n._loop(t)}):this.stop(!0)}}]),t}(),St=window,Ct=document,bt="onwheel"in Ct?"wheel":"onmousewheel"in Ct?"mousewheel":"DOMMouseScroll",kt=bt+", touchstart, touchmove",wt=function(){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"body, html":arguments[1];nt.classCallCheck(this,t),this.options=s({},t.defaults,n),this.container=this.getContainer(e),this.header=h(this.options.header),this.tween=new yt(this.container),this._trigger=null,this._shouldCallCancelScroll=!1,this.bindContainerClick()}return nt.createClass(t,[{key:"to",value:function(t){var n=this,e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=this.container,i=this.header,l=s({},this.options,e),u=this.parseCoodinate(l.offset),a=this._trigger,c=this.parseCoodinate(t);if(this._trigger=null,this._shouldCallCancelScroll=!1,this.stop(),r){if(!c&&o(t))if("#"===t)c={top:0,left:0};else if(!/[:,]/.test(t)){var f=h(t),p=w(f,r);if(!p)return;c=p}if(c){u&&(c.top+=u.top,c.left+=u.left),i&&(c.top=Math.max(0,c.top-this.header.clientHeight));var g=void 0,d=void 0;v(r)?(g={width:St.innerWidth,height:St.innerHeight},d={width:Ct.body.scrollWidth,height:Ct.body.scrollHeight}):(g={width:r.clientWidth,height:r.clientHeight},d={width:r.scrollWidth,height:r.scrollHeight}),this.hook(l.beforeScroll,c,a)!==!1&&this.beforeScroll(c,a)!==!1&&(l.verticalScroll?c.top=Math.max(0,Math.min(d.height-g.height,c.top)):c.top=b(r,"y"),l.horizontalScroll?c.left=Math.max(0,Math.min(d.width-g.width,c.left)):c.left=b(r,"x"),this.tween.run(c.left,c.top,l.duration,l.delay,l.easing,function(){n.unbindContainerStop(),n._shouldCallCancelScroll?(n.hook(l.cancelScroll),n.cancelScroll()):(n.hook(l.afterScroll,c,a),n.afterScroll(c,a))}),this.bindContainerStop())}}}},{key:"toTop",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.to(t,s({},n,{verticalScroll:!0,horizontalScroll:!1}))}},{key:"toLeft",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.to(t,s({},n,{verticalScroll:!1,horizontalScroll:!0}))}},{key:"toElement",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t instanceof HTMLElement){var e=w(t,this.container);this.to(e,s({},n))}}},{key:"stop",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this._stopScrollListener&&(this._shouldCallCancelScroll=!0),this.tween.stop(t)}},{key:"update",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.stop(),this.unbindContainerClick(),this.unbindContainerStop(),this.options=s({},this.options,t),this.header=h(this.options.header),this.bindContainerClick()}},{key:"destroy",value:function(){this.stop(),this.unbindContainerClick(),this.unbindContainerStop(),this.container=null,this.header=null,this.tween=null}},{key:"beforeScroll",value:function(t,n){return!0}},{key:"cancelScroll",value:function(){}},{key:"afterScroll",value:function(t,n){}},{key:"parseCoodinate",value:function(t){var e=this.options.verticalScroll,r={top:0,left:0};if(a(t,"top")||a(t,"left"))r=s(r,t);else if(n(t))2===t.length?(r.top=t[0],r.left=t[1]):(r.top=e?t[0]:0,r.left=e?0:t[0]);else if(u(t))r.top=e?t:0,r.left=e?0:t;else{if(!o(t))return null;if(t=f(t),/^\d+,\d+$/.test(t))t=t.split(","),r.top=t[0],r.left=t[1];else if(/^(top|left):\d+,?(?:(top|left):\d+)?$/.test(t)){var i=t.match(/top:(\d+)/),l=t.match(/left:(\d+)/);r.top=i?i[1]:0,r.left=l?l[1]:0}else{if(!this.container||!/^(\+|-)=(\d+)$/.test(t))return null;var c=b(this.container,e?"y":"x"),h=t.match(/^(\+|-)\=(\d+)$/),p=h[1],g=parseInt(h[2],10);"+"===p?(r.top=e?c+g:0,r.left=e?0:c+g):(r.top=e?c-g:0,r.left=e?0:c-g)}}return r.top=parseInt(r.top,10),r.left=parseInt(r.left,10),r}},{key:"getContainer",value:function(t){var n=this.options,e=n.verticalScroll,r=n.horizontalScroll,i=void 0;return e&&(i=S(t,"y")),!i&&r&&(i=S(t,"x")),i}},{key:"bindContainerClick",value:function(){var t=this.container;t&&(this._containerClickListener=this.handleContainerClick.bind(this),d(t,"click",this._containerClickListener))}},{key:"unbindContainerClick",value:function(){var t=this.container;t&&this._containerClickListener&&(m(t,"click",this._containerClickListener),this._containerClickListener=null)}},{key:"bindContainerStop",value:function(){var t=this.container;t&&(this._stopScrollListener=this.handleStopScroll.bind(this),d(t,kt,this._stopScrollListener))}},{key:"unbindContainerStop",value:function(){var t=this.container;t&&this._stopScrollListener&&(m(t,kt,this._stopScrollListener),this._stopScrollListener=null)}},{key:"hook",value:function(t){if(l(t)){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];return t.apply(this,e)}}},{key:"handleStopScroll",value:function(t){this.options.stopScroll?this.stop():t.preventDefault()}},{key:"handleContainerClick",value:function(t){for(var n=this.options,e=t.target;e&&e!==Ct;e=e.parentNode)if(g(e,n.trigger)){var r=e.getAttribute("data-scroll"),i=this.parseDataOptions(e),o=r||e.getAttribute("href");n=s({},n,i),t.preventDefault(),t.stopPropagation(),this._trigger=e,n.horizontalScroll&&n.verticalScroll?this.to(o,n):n.verticalScroll?this.toTop(o,n):n.horizontalScroll&&this.toLeft(o,n)}}},{key:"parseDataOptions",value:function(t){var n=t.getAttribute("data-scroll-options");return n?JSON.parse(n):{}}}]),t}();return wt.defaults={trigger:"[data-scroll]",header:"[data-scroll-header]",duration:1e3,delay:0,easing:"easeOutQuint",offset:0,verticalScroll:!0,horizontalScroll:!1,stopScroll:!0,beforeScroll:null,afterScroll:null,cancelScroll:null},wt});